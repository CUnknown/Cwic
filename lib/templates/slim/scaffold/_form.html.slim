<% if attributes.select { |attr| [:date, :time, :datetime, :timestamp].include?(attr.type) }.present? -%>
= form_for(@<%= singular_table_name %>.localized) do |f|
<% else -%>
= form_for(@<%= singular_table_name %>) do |f|
<% end -%>
  = render 'shared/error_messages', target: @<%= singular_table_name %>

<% attributes.each do |attribute| -%>
  .field
<% if attribute.password_digest? -%>
    = f.label :password
    = f.password_field :password
  .field
    = f.label :password_confirmation
    = f.password_field :password_confirmation
<% elsif [:float, :decimal].include?(attribute.type) -%>
    = f.label :<%= attribute.name %>
    = f.number_field :<%= attribute.name %>, step: :any
<% elsif [:date].include?(attribute.type) -%>
    = f.label :<%= attribute.name %>
    = f.text_field :<%= attribute.name %>, class: 'datepicker-field'
<% elsif [:time].include?(attribute.type) -%>
    = f.label :<%= attribute.name %>
    = f.text_field:<%= attribute.name %>, class: 'timepicker-field'
<% elsif [:datetime, :timestamp].include?(attribute.type) -%>
    = f.label :<%= attribute.name %>
    = f.text_field :<%= attribute.name %>
<% else -%>
    = f.label :<%= attribute.name %>
    = f.<%= attribute.field_type %> :<%= attribute.name %>
<% end -%>
<% end -%>

  .actions
    = f.submit

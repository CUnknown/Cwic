<%= form_for((@organisation.present? ? [@organisation, @entity_type_icon] : @entity_type_icon)) do |f| %>
  <%= render 'shared/error_messages', target: @entity_type_icon %>

  <div class="field">
    <%= f.label :name %>
    <%= f.text_field :name %>
  </div>
  <% if @admin %>
  <div class="field">
    <%= f.label :organisation %>
    <%= f.collection_select :organisation_id, Organisation.all.sort, :id, :instance_name, prompt: t('prompt_all_organisations') %>
  </div>
  <% end %>
  <div class="field">
    <%= f.label :entity_type_icon_image %>
    <div class="entity-type-icon-image">
      <%= image_tag(@entity_type_icon.image.medium_icon.url) %>
    </div>
    <p>
    <% if @entity_type_icon.image.present? %>
      <label>
        <%= f.check_box :remove_image %>
        <%= t('.remove_icon') %>
      </label>
    </p>
    <% end %>
    <%= f.label :remote_image_url %>
    <%= f.text_field :remote_image_url %>
    <%= f.label :image_from_file %>
    <%= f.file_field :image %>
    <%= f.hidden_field :image_cache %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
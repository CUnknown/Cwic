$min-schedule-width: 3000px;

div.calendar {
  position: relative;
  width: 100%;
  min-height: 300px;

  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

div.calendar {
  p {
    padding: 0;
    margin: 0;
  }

  &.vertical {
    div.left-axis,
    div.schedule-body {
      height: 1080px; /* 24 * 45 */
    }
  }

  div.cwic-sticky-container {
    position: relative;
    margin-bottom: -1px;
    z-index: 20;
  }

  div.entity-container {
    div.entity-button {
      position: relative;
      float: left;
      background: #fff;
      border: 1px solid #ccc;
      border-bottom-width: 5px;
      width: 70px;
      cursor: pointer;
      overflow: hidden;
      height: 70px;
      margin: 7px 7px 3px;
    }

    div.entity-button {
      &.active {
        border-width: 5px;
        margin: 3px;
      }

      img.entity-icon {
        width: 30px;
        height: 30px;
        margin: 5px auto;
        border: 0 none;
        display: block;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      p.entity-name {
        width: 100%;
        text-align: center;
        overflow: hidden;
        text-overflow: ellipsis;
        word-wrap: break-word;
        font-size: 0.8em;
        line-height: 100%;
        margin-top: 10px;
      }
    }

    .ui-tabs {
      .ui-tabs-panel {
        padding: 6px 0 0;
      }
    }

    p.no_entities_found {
      display: none;
    }
  }


  div.fast-select {
    margin-bottom: 10px;
  }

  div.fast-select {
    a.button {
      padding: 0.5em 0.8em;
      float: right;
      margin-left: 5px;
    }
  }

  div.left-axis {
    position: relative;
    float: left;
    height: 100%;
    overflow: hidden;
    width: 65px;
  }

  div.left-axis {
    div.left-axis-row {
      position: relative;
      height: 62px;
      padding: 4.5px 0;
      margin-top: 10px;
    }

    div.left-axis-row {

      &:first-child {
        margin-top: -1px;
      }

      > .inner {
        position: relative;
        height: 50px;
        top: 50%;
        margin-top: -25px;
      }

      div {
        position: relative;
        text-align: center;
        width: 100%;
      }

      &.today {
        color: #17889d;
      }

      div.day-name p,
      div.week-begin p {
        height: 10px;
        width: 100%;
        line-height: 10px;
        font-style: italic;
        font-size: 0.9em;
      }

      div.day-name,
      div.week-begin {
        height: 10px;
      }

      div.month-name p,
      div.week-end p {
        height: 10px;
        width: 100%;
        line-height: 10px;
        font-style: italic;
        font-size: 0.9em;
       }

      div.month-name,
      div.week-end {
        height: 10px;
      }

      div.day-nr p,
      div.week-nr p {
        height: 30px;
        line-height: 30px;
        font-size: 2.2em;
        width: 100%;
      }

      div.day-nr,
      div.week-nr {
        height: 30px;
      }
    }

    div.time-axis-row {
      height: 45px;
      line-height: 45px;
    }

    div.time-axis-row {
      &:first-child {
        margin-top: 22.5px;
      }
    }
  }

  div.schedule-container {
    position: relative;
    margin-left: 65px;
  }

  div.schedule-container {
    div.disabled-overlay {
      background-color: transparent;
      background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(66,66,66,.1) 35px, rgba(55,55,55,.1) 70px);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      font-size: 24px;
      text-align: center;
      padding-top: 30px;
      z-index: 2;
    }
  }

  div.schedule-scroll-container {
    position: relative;
    overflow-x: auto;
    overflow-y: hidden;
    margin-top: 1px;
    box-shadow: 0 0 30px rgba(0,0,0,.2) inset;
  }

  div.schedule-scroll-container {

    div.schedule-body {
      min-width: $min-schedule-width;
      position: relative;
    }

    div.schedule-body {
      div.grid {
        position: absolute;
        left: 0;
        padding: 0 12px;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        z-index: 1;
      }

      div.grid {
        div.grid-item {
          -moz-box-sizing: border-box;
          box-sizing: border-box;
        }

        div.grid-item {
          &.vertical {
            position: relative;
            width: 100%;
            height: 4.1666667%;
            border-bottom: 1px solid #ccc;
          }

          &.horizontal {
            height: 100%;
            position: relative;
            float: left;
            border-right: 1px solid #ccc;
          }

          &.horizontal {
            &.day {
              width: 4.1666667%;
            }

            &.week {
              width: 3.5714286%;
            }
          }
        }
      }

      div.time-needle {
        position: absolute;
        display: block;
        background-color: #fff;
        box-shadow: 0 0 3px rgba(0,0,0,.6);
        z-index: 30;
        background-image: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.12) 100%);
      }

      div.time-needle {
        &:before,
        &:after {
          display: block;
          content: '.';
          position: absolute;
          width: 0;
          color: #17889d;
          font-size: 0;
          line-height: 0;
          height: 0;
        }
      }

      div.schedule-item {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 7;
        border-left: 1px solid #ccc;
        background-color: #1c5eaf;
        color: #444;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        cursor: pointer;
        opacity: 1;

        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;

        -webkit-transition: opacity 300ms ease-in-out;
        -moz-transition: opacity 300ms ease-in-out;
        -ms-transition: opacity 300ms ease-in-out;
        -o-transition: opacity 300ms ease-in-out;
        transition: opacity 300ms ease-in-out;
      }

      div.schedule-item-wrapper {
        background-color: rgba(255, 53, 32, .2);
      }

      div.schedule-item-wrapper {

        &.blurred {
          &:after {
            content: '';
            width: 100%;
            height: 100%;
            display: block;
            background-color: #fff;
            position: absolute;
            left: 0;
            top: 0;
            opacity: .6;
            z-index: 6;
          }

          div.schedule-item {
            &:after {
              content: '';
              width: 100%;
              height: 100%;
              display: block;
              background-color: #fff;
              position: absolute;
              left: 0;
              top: 0;
              opacity: .6;
              z-index: 10;
            }
          }
        }

        &.focused {
          z-index: 20;
        }

        &.focused {
          div.schedule-item {
            cursor: move;
          }

          div.schedule-item {
            div.resizer {
              visibility: visible;
            }
          }
        }

        &.concept {
          opacity: .8;
        }

        &.hidden {
          opacity: .4;
        }

        div.schedule-item {
          width: 100%;
          height: 100%;
        }

        div.schedule-item {

          &.item-conflict,
          &.edit-mode.item-conflict {
            border: 1px solid rgba(255, 0, 0, .9);
            box-shadow: 0 0 15px rgba(255, 0, 0, .9);
          }

          &.slack-conflict,
          &.edit-mode.slack-conflict {
            border: 1px solid rgba(226, 149, 44, .9);
            box-shadow: 0 0 15px rgba(226, 149, 44, .9);
          }

          &.edit-mode {
            border: 1px solid rgba(24, 193, 61, .9);
            box-shadow: 0 0 15px rgba(24, 193, 61, .9);
          }

          p.item-text {
            position: absolute;
            top: 50%;
            line-height: 20px;
            overflow: hidden;
            max-height: 100%;
            max-width: 100%;
            text-decoration: none;
            pointer-events: none;
          }

          div.status {
            span {
              position: absolute;
              top: 50%;
              left: 50%;
              width: 15px;
              height: 15px;
              margin-top: -7.5px;
              margin-left: -7.5px;
              line-height: 15px;
              text-align: center;
            }
          }

          a.open-toolbar {
            position: absolute;
            display: none;
            height: 20px;
            width: 20px;
            margin-left: -10px;
            margin-top: -10px;
            line-height: 20px;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
          }

          a.open-toolbar {
            i {
              width: 100%;
              height: 100%;
              overflow: hidden;
              font-size: 1.2sem;
            }
          }

          div.ok,
          div.plus {
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 9;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
            overflow: hidden;
          }

          div.ok,
          div.plus {
            span {
              text-align: center;
              position: absolute;
              left: 50%;
              top: 50%;
              font-size: 1.5em;
              font-weight: bold;
              color: #fff;
              width: 25px;
              height: 25px;
            }
          }

          div.ok {
            span {
              font-family: 'WebHostingHub-Glyphs';
              margin-left: -12.5px;
              margin-top: -12.5px;
            }
          }

          div.plus {
            span {
              font-size: 2.2em;
              margin-left: -15px;
              margin-top: -15px;
            }
          }

          div.continue-container {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 8;
            overflow: hidden;
          }

          div.continue-container {
            div.continue {
              position: absolute;
              width: 15px;
              height: 15px;
              line-height: 15px;
              display: none;
              z-index: 8;
            }

            div.continue [class^="icon-"],
            div.continue [class*=" icon-"] {
              font-size: 0.75em;
              height: 15px;
              line-height: 15px;
              vertical-align: baseline;
            }
          }

          div.resizer {
            position: absolute;
            display: none;
            visibility: hidden;
            z-index: 21;
            color: #333;
          }

          div.resizer {
            i {
              vertical-align: middle;
              text-align: center;
              position: absolute;
              line-height: 30px;
              opacity: .8;
              background-color: #17889d;
              border-radius: 15px;
              height: 30px;
              width: 30px;
              color: #fff;
              font-size: 1.3em;
            }

            &:hover {
              i {
                opacity: 1;
              }
            }
          }
        }
      }

      div.row {
        position: relative;
        width: 100%;
        min-height: 62px;
        z-index: 2;
        border-top: 5px solid #fff;
        border-bottom: 5px solid #fff;
      }

      div.row {
        &:first-child {
          border-top: none;
          margin-top: 0;
        }

        div.time-needle {
          height: 100%;
          padding: 4px 0;
          top: -4px;
          width: 8px;
          margin-left: -4px;
        }

        div.time-needle {
          &:before {
            top: 1px;
            left: 1px;
            border-top: 6px solid #17889d;
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
          }

          &:after {
            bottom: 1px;
            left: 1px;
            border-bottom: 6px solid #17889d;
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
          }
        }

        &.today {
          div.schedule-objects {
            border-color: #1c9cb2;
          }

          div.schedule-object-item-parts {
            border-top-color: #aaa;
          }
        }

        div.row-time-parts {
          position: absolute;
          left: 0;
          top: 0;
          height: 100%;
          width: 100%;
        }

        div.schedule-objects {
          position: relative;
          width: auto;
          border: 2px solid #ccc;
          border-left-width: 12px;
          border-right-width: 12px;
          min-height: 62px;
          padding-top: 4px;
          padding-bottom: 1px;
        }

        div.schedule-object-item-parts {
          position: relative;
          left: 0;
          top: 0;
          height: 20px;
          width: 100%;
          z-index: 4;
          border-top: 1px dotted #ccc;
          box-sizing: border-box;
          -moz-box-sizing: border-box;
        }

        div.schedule-object-item-parts {
          :first-child {
            border-top: 0 none;
          }

          p.name {
            position: absolute;
            left: 0;
            top: 50%;
            height: 20px;
            line-height: 20px;
            font-size: 0.8em;
            margin-top: -10px;
            overflow: hidden;
            font-style: italic;
            color: #444;
            padding: 0 10px;
            cursor: default;
          }
        }

        div.schedule-item-wrapper {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 1px;

          -webkit-transition: opacity 300ms ease-in-out;
          -moz-transition: opacity 300ms ease-in-out;
          -ms-transition: opacity 300ms ease-in-out;
          -o-transition: opacity 300ms ease-in-out;
          transition: opacity 300ms ease-in-out;
        }

        div.schedule-item-wrapper {
          div.schedule-item {
            p.item-text {
              height: 20px;
              padding-left: 43px;
              margin-top: -10px;

              -moz-box-sizing: border-box;
              box-sizing: border-box;
            }

            div.status {
              position: absolute;
              top: 50%;
              margin-top: -10px;
              left: 15px;
              width: 16px;
              height: 16px;
              border: 2px solid #fff;
              border-radius: 3px;
              color: #222;
              font-weight: bold;
              background-color: #ccc;
              opacity: .85;
              display: none;
            }

            a.open-toolbar {
              left: 20px;
              top: 50%;
            }

            div.resizer {
              i {
                margin-top: -15px;
                top: 50%;
                left: 0;
              }

              &.left {
                height: 100%;
                width: 30px;
                left: -40px;
                top: 0;
                cursor: w-resize;
              }

              &.right {
                height: 100%;
                width: 30px;
                right: -40px; /* Compensate for schedule item border */
                top: 0;
                cursor: e-resize;
              }
            }

            div.continue-container {
              div.continue {
                &.left {
                  left: 0;
                  top: 0;
                  height: 100%;
                }

                &.left {
                  i {
                    position: absolute;
                    left: 2px;
                    top: 50%;
                    margin-top: -7.5px;
                  }
                }

                &.right {
                  right: 0;
                  top: 0;
                  height: 100%;
                }

                &.right {
                  i {
                    position: absolute;
                    right: 2px;
                    top: 50%;
                    margin-top: -7.5px;
                  }
                }
              }
            }
          }
        }
      }

      div.column {
        position: relative;
        height: 100%;
        float: left;
        border: 1px solid #ccc;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        z-index: 2;
      }

      div.column {
        &:nth-child(even) {
          background-color: rgba(0, 0, 0, .1);
        }

        div.time-needle {
          width: 100%;
          padding: 0 4px;
          left: -4px;
          height: 8px;
          margin-top: -4px;
        }

        div.time-needle {
          &:before {
            top: 1px;
            left: 1px;
            border-left: 6px solid #17889d;
            border-top: 3px solid transparent;
            border-bottom: 3px solid transparent;
          }

          &:after {
            bottom: 1px;
            right: 1px;
            border-right: 6px solid #17889d;
            border-top: 3px solid transparent;
            border-bottom: 3px solid transparent;
          }
        }

        &.today {
          div.schedule-objects {
            border-left: 2px solid #1c9cb2 !important;
            border-right: 2px solid #1c9cb2 !important;
          }
        }

        div.schedule-objects {
          box-sizing: border-box;
          -moz-box-sizing: border-box;
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
        }

        div.schedule-object-item-parts {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
        }

        div.schedule-object-item-parts {
          p.name {
            display: none;
          }
        }

        div.schedule-item-wrapper {
          position: absolute;
          left: 0;
          top: 0;
          width: 98%;
          height: 1px;
          margin: 0 1%;
        }

        div.schedule-item-wrapper {
          div.schedule-item {
            p.item-text {
              top: 0;
              left: 0;
              width: 100%;
              text-align: center;
              padding: 15px;
              overflow: hidden;
              max-height: 100%;
              box-sizing: border-box;
              -moz-box-sizing: border-box;
            }

            div.status {
              position: absolute;
              right: 15px;
              top: 15px;
              width: 16px;
              height: 16px;
              border: 2px solid #fff;
              border-radius: 3px;
              color: #222;
              font-weight: bold;
              background-color: #ccc;
              display: none;
            }

            a.open-toolbar {
              left: 10px;
              top: 20px;
            }

            div.resizer {
              i {
                margin-left: -15px;
                left: 50%;
                top: 0;
              }

              &.top {
                width: 100%;
                height: 30px;
                top: -40px; /* Compensate for schedule item border */
                left: 0;
                cursor: n-resize;
              }

              &.bottom {
                width: 100%;
                height: 30px;
                bottom: -40px;
                left: 0;
                cursor: s-resize;
              }
            }

            div.continue-container {
              div.continue {
                &.top {
                  top: 0;
                  left: 0;
                  width: 100%;
                }

                &.top {
                  i {
                    position: absolute;
                    top: 2px;
                    left: 50%;
                    margin-left: -7.5px;
                  }
                }

                &.bottom {
                  left: 0;
                  bottom: 0;
                  width: 100%;
                }

                &.bottom {
                  i {
                  position: absolute;
                  bottom: 2px;
                  left: 50%;
                  margin-left: -7.5px;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

#local-menu {
  .navigation-actions {
    .control-container {
      display: inline-block;
    }

    .control-container {
      .button {
        i {
          margin: 0;
        }
      }

      #previous.button,
      #next.button {
        box-sizing: border-box;
        width: 2.625em;
        height: 2.625em;
        text-align: center;
      }
    }
  }
  .page-actions {
    .control-container {
      &.domain-custom {
        display: none;
      }

      &.domain-custom {
        span.tm {
          padding: 0 10px;
        }
      }
    }
  }

  .context-actions {
    .ajax-notification {
      display: block;
      padding: 5px 8px;
      font-size: 0.86em;
      text-align: center;
    }

    .ajax-notification {
      .ajax-wait {
        position: relative;
        float: left;
        margin: 0 5px;
        width: 25px;
        height: 25px;
      }

      .message {
        position: relative;
        line-height: 25px;
      }
    }
  }
}

div.schedule-view-sticky {
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
  margin-left: 65px;
}

div.schedule-view-sticky {
  div.top-axis {
    min-width: $min-schedule-width;
    position: relative;
    position: relative;
    width: 100%;
    height: auto;
    background-color: #fff;
    z-index: 10;
    border-bottom: 2px solid #ccc;
    margin-bottom: -1px;
    border-width: 0 0 2px;
    border-style: solid;
    border-color: transparent;
    border-bottom-color: #ccc;
  }

  div.top-axis {
    &.horizontal {
      div.axis-parts {
        margin: 0 12px;
      }
    }

    div.hour-time-axis-frame,
    div.six-hour-time-axis-frame {
      position: relative;
      float: left;
      height: 100%;
      text-align: center;
      font-weight: bold;
      left: 2.083333%;
      box-sizing: border-box;
      -moz-box-sizing: border-box;

      p {
        margin: 0;
      }
    }

    div.hour-time-axis-frame {
      width: 4.166666%;
    }

    div.six-hour-time-axis-frame {
      width: 3.571428%;
      font-weight: normal;
      font-size: 0.75em;
      padding-top: 15px;
    }

    div.day-time-axis-frame {
      display: block;
      position: absolute;
      left: 0;
      bottom: 0;
      width: 14.285714%;
      padding-bottom: 15px;
    }

    div.vertical-day-time-axis-frame {
      display: block;
      position: relative;
      float: left;
      padding-bottom: 5px;
      box-sizing: border-box;
      -moz-box-sizing: border-box;
    }

    div.vertical-day-time-axis-frame:nth-child(odd),
    div.day-time-axis-frame:nth-child(odd) {
      background-color: rgba(0, 0, 0, .1);
    }

    div.vertical-day-time-axis-frame {
      p.date {
        margin: 0 auto;
        font-weight: bold;
        font-size: 1.1em;
        text-align: center;
        width: 100%;

        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        padding: 0 2px;

        color: #aaa;
      }

      &:nth-child(odd) {
        p.date {
        color: #999;
        }
      }
    }

    div.vertical-day-time-axis-frame,
    div.day-time-axis-frame {
      p.name {
        margin: 0 auto;
        font-weight: bold;
        font-size: 1.6em;
        text-align: center;
        width: 100%;
        color: #ddd;

        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        padding: 0 2px;
      }

      &:nth-child(odd) {
        p.name {
          color: #bbb;
        }
      }

      &.today {
        p.name,
        p.date {
          color: #17889d;
        }
      }
    }
  }
}

@media print {
  html {
    background-color: transparent;
  }

  body.controller-schedule_view {
    color: #000;

    #header,
    div.calendar div.entity-container,
    div.actions,
    div.control-container,
    div.calendar div.schedule-body div.time-needle,
    div.calendar div.schedule-body div.schedule-item div.resizer,
    div.calendar div.schedule-body div.schedule-item a.open-toolbar {
      display: none !important;
    }

    div.calendar div.schedule-body div.schedule-item {
      border: 4px solid #000;
    }

    div.calendar div.schedule-body div.schedule-objects {
      page-break-inside: avoid;
    }

    #page-title {
      padding: 0;
    }

    #content {
      margin-left: 0;
      margin-right: 0;
    }

    #content > .inner {
      padding-left: 0;
      padding-right: 0;
    }

    #content-area {
      padding: 0 !important;
    }

    div.calendar div.schedule-body div.row.today,
    div.calendar div.schedule-body div.column.today {
      background: transparent;
    }
  }
}
